name: argo-cd-gcp
description: Installs argo-cd on a gcp gke cluster
provider: GCP
oidcSettings:
  authMethod: POST
  uriFormat: https://{domain}/auth/callback
  domainKey: hostname
dependencies:
- repo: bootstrap
  name: gcp-kubernetes
sections:
- name: argo-cd
  items:
  - type: TERRAFORM
    name: gcp
    configuration: []
  - type: HELM
    name: argo-cd
    configuration:
    - name: hostname
      documentation: FQDN to use for your Argo CD installation
      type: STRING
    - name: adminGroup
      documentation: OIDC group that should receive admin permissions
      type: STRING
    - name: credentialTemplateURL
      documentation: Domain for which to configure private repository credentials
      type: STRING
    - name: credentialUsername
      documentation: Username to access private repositories
      type: STRING
    - name: credentialPassword
      documentation: Password or Personal Access Token to access private repositories
      type: STRING
    - name: privateRepoName
      documentation: Name for the private repository to add
      type: STRING
    - name: privateRepoURL
      documentation: URL of the private repository
      type: STRING
    - name: enableImageUpdater
      type: BOOL
      documentation: Enable the Argo CD Image Updater
      default: true
