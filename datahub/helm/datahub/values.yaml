# Default values for datahub.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

postgres:
  team: plural
  user: datahub
  dbName: datahub
  ownerChart: datahub

# Default configuration for pre-requisites to get you started
# Copy this file and update to the configuration of choice
datahub:
  mysqlSetupJob:
    enabled: false
  kafkaSetupJob:
    enabled: true
  postgresqlSetupJob:
    enabled: true
    image:
      repository: acryldata/datahub-postgres-setup
      tag: "v0.8.41"
    podSecurityContext:
      fsGroup: 1000
    securityContext:
      runAsUser: 1000
    podAnnotations: { }
  global:
    graph_service_impl: "elasticsearch"
    elasticsearch:
      host: "elasticsearch-es-http.elasticsearch.svc"
      port: "9200"
      useSSL: "false"
      skipcheck: "true"
      insecure: "true"
      auth:
        username: elastic
        password:
          secretRef: elasticsearch-es-elastic-user
          secretKey: elastic
      verify-certs: "false"
    kafka:
      bootstrap:
        server: "kafka-kafka-bootstrap.kafka.svc:9092"
      zookeeper:
        server: "kafka-zookeeper-client.kafka.svc:2181"
    sql:
      datasource:
        hostForpostgresqlClient: "plural-datahub"
        host: "plural-datahub:5432"
        port: "5432"
        url: "jdbc:postgresql://plural-datahub:5432/datahub?verifyServerCertificate=false&useSSL=true&useUnicode=yes&characterEncoding=UTF-8&enabledTLSProtocols=TLSv1.2"
        driver: "org.postgresql.Driver"
        username: "datahub"
        password:
          secretRef: datahub.plural-datahub.credentials.postgresql.acid.zalan.do
          secretKey: password
  prerequisites:
    elasticsearch:
      enabled: false   # set this to false, if you want to provide your own ES instance.
    neo4j:
      enabled: false
    neo4j-community:
      enabled: false   # set this to false, if you have a license for the enterprise edition
    mysql:
      enabled: false
    kafka:
      enabled: false