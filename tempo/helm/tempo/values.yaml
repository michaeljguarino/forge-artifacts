provider: aws
tempoStorageIdentityId: ""
tempoStorageIdentityClientId: ""

# can be simple or distributed
lokiMode: simple

tempo-distributed:
  multitenancyEnabled: true
  tempo:
    image:
      registry: dkr.plural.sh
      repository: tempo/grafana/tempo
      tag: 2.1.1
  queryFrontend:
    query:
      image:
        registry: dkr.plural.sh
        repository: tempo/grafana/tempo-query
        tag: 2.1.1
  # serviceAccount:
  #   name: grafana-tempo # TODO: check IRSA and GCP workload identity
  traces:
    jaeger:
      grpc:
        enabled: true
      thriftBinary:
        enabled: true
      thriftCompact:
        enabled: true
      thriftHttp:
        enabled: true
    zipkin:
      enabled: true
    otlp:
      http:
        enabled: true
      grpc:
        enabled: true
    opencensus:
      enabled: true
  storage:
    trace:
      # cache: redis
      # redis:
      #   endpoint: ""
      #   db: 5
      #   password: ""
      memcached:
        consistent_hash: true
        host: tempo-tempo-distributed-memcached
        service: memcached-client
        timeout: 500ms
  serviceMonitor:
    enabled: true
  memcached:
    enabled: true
